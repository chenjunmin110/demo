<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>

<script>

  let str = '1 1 2 1 1 1'.split(' ')
  let n = 4
  let dd =0
  for (let i = 0; i < str.length; i++) {
      if (i+n > str.length){
          break
      }
    let arr = str.slice(i, i+n)
      console.log(arr);
      console.log(arrr(arr));
      if (dd < arrr(arr)[0]) {
      dd = arrr(arr)[0]
    }


  }
  console.log(dd);
  function arrr (arr) {

      let map = new Map()
    for (let i = 0; i < arr.length; i++) {
        map.has(arr[i]) ? map.set(arr[i], map.get(arr[i])+1) : map.set(arr[i], 1)
    }
      return [...map.values()].sort((a,b) =>b-a)
  }

</script>
</html>